<div class="flex w-full min-h-screen p-6 gap-6 " >
  <div class="w-2/3 flex flex-col items-center gap-2">
    <div class="flex gap-6">
      <select class="select select-primary " [(ngModel)]="selectedBudgetId" (change)="onBudgetChange()">
        <option disabled selected value="" >Sélectionner un budget</option>
        @for (budget of budgetLists; track budget.id) {
          <option [value]="budget.id">{{budget.name}}</option>
        }
      </select>


      <!-- The button to open modal -->
      <button class="btn btn-neutre" [routerLink]="['/budget/new']" >➕</button>

      <button class="btn btn-neutre" (click)="deleteBudget(selectedBudgetId) " [disabled]="!selectedBudgetId" >🗑️</button>

      <button class="btn btn-neutre" (click)="editBudget(selectedBudgetId) " [disabled]="!selectedBudgetId" >✏️</button>


    </div>

    <div class="overflow-x-auto flex-1 w-full bg-yellow-200 ">
      @if (selectedBudget) {
          <h3 class="text-center m-2">Budget sélectionné : {{selectedBudget.name}}</h3>
      }@else{
      <h3 class="text-center m-2"> Veuillez sélectionner un budget</h3>
      }
      <table class="table table-xs">
        <thead>
        <tr>
          <th></th>
          <th>Nom</th>
          <th>Détail</th>
          <th>Montant</th>
          <th>Type</th>
          <th>Date</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <th>1</th>
          <td>Cy Ganderton</td>
          <td>Quality Control Specialist</td>
          <td>Littel, Schaden and Vandervort</td>
          <td>Canada</td>
          <td>12/16/2020</td>
        </tr>
        </tbody>
        <tfoot>
        </tfoot>
      </table>
    </div>
  </div>

  <div class="w-1/3 flex flex-col items-center gap-2" >
    <select class="select select-primary" [(ngModel)]="selectedBudgetId" (change)="onBudgetChange()">
      <option disabled selected value="" >Sélectionner un budget</option>
      @for (budget of budgetLists; track budget.id) {
        <option [value]="budget.id">{{budget.name}}</option>
      }
    </select>

    <div class="flex flex-col flex-1 w-full bg-red-200 items-center">
      @if (selectedBudget) {
        <h3 class="text-center m-2">Type de dépenses sélectionnées :{{selectedBudget.name}}</h3>
      }@else{
        <h3 class="text-center m-2"> Veuillez sélectionner un budget</h3>
      }
      <div class="flex flex-1 justify-center items-center">
        camembert des dépenses
      </div>
    </div>
  </div >
</div>
